# Tinkoff Backend Academy homework 5

Асинхронная обработка задач для интернет-магазина.

## Contents

1. [Information](#information)
2. [Part 1](#part-1-implementation)

## Information

**Название проекта:** Домашнее задание Tinkoff Backend Academy 5 - Асинхронная обработка задач для интернет-магазина

**Описание:**
Этот проект представляет собой расширение интернет-магазина из предыдущих домашних заданий. В интернет-магазине уже много тысяч разных товаров, и постоянно появляются новые категории товаров. В этом задании необходимо реализовать асинхронный перенос всех товаров из одной заданной категории в другую. Необходимо реализовать два HTTP-метода.

**Используемые технологии:**

- **Язык программирования:** Java 17
- **Инструменты разработки:** IntelliJ IDEA, Gradle, Spring Framework
- **Контроль версий:** Git

**Ключевые особенности:**

- **Создание задачи на перенос:** Метод принимает на вход два id: id категории из которой надо перенести товары, id категории в которую надо перенести. Метод создаёт задачу для переноса, сам перенос должен выполняться асинхронно в фоне. Метод возвращает id задачи.

    `POST /move-products-task`
    Входные данные:

    ```JSON
    {
        "sourceCategoryId": 1
        "targetCategoryId": 2
    }
    ```

    Результат запроса:

    ```JSON
    {
        "taskId": 432
    }
    ```

- **Получение статуса запущенной задачи:**

    `GET /task-status?taskId=432`

    Результат запроса:

    ```JSON
    {
        "taskId": 432
        "taskStatus": "WAITING"
    }
    ```

    Возможные статусы задачи: `WAITING` / `IN_PROGRESS` / `DONE` / `ERROR`

**Детали реализации:**

- **Асинхронная обработка задач:** Перенос товаров из одной категории в другую должен выполняться асинхронно в фоне.
- **HTTP-методы:** Реализованы два HTTP-метода: POST для создания задачи на перенос и GET для получения статуса задачи.
- **Статус задачи:** Запущенная задача имеет статус `WAITING`, который меняется на `IN_PROGRESS`, `DONE` или `ERROR` в зависимости от результата выполнения задачи.
- **Валидация:** Приложение должно проверять наличие категорий и возвращать ошибку, если категория не найдена.

**Инструкции по использованию:**

1. Запустите приложение, запустив основной класс.
2. Используйте HTTP-клиент для отправки запросов в приложение.
3. Отправьте POST запрос для создания задачи на перенос товаров из одной категории в другую.
4. Отправьте GET запрос для получения статуса задачи.

**Цели проекта:**

- Реализовать асинхронную обработку задач для переноса товаров из одной категории в другую.
- Изучить создание HTTP-эндпоинтов для создания задач и получения их статуса.
- Практиковаться в работе с асинхронными задачами и обработкой статусов.
- Изучить принципы написания асинхронного кода в Spring Framework.

## Part 1. Implementation

Нужно реализовать 2 http-метода.

1. Создание задачи на перенос:

2. Получение статуса запущенной задачи

Обязательные требования:

- Не забывайте про принципы SOLID, особеннно про принцип единой ответственности.
- Логика по асинхронной обработке задач не должна быть перемешана с бизнес-логикой продуктов и котегорий.
