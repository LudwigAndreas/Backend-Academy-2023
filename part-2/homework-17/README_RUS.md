# Tinkoff Backend Academy homework 17

Эксперимент Kafka.

## Contents

1. [Information](#information)
2. [Part 1](#part-1-implementation)

## Information

**Название проекта:** Домашнее задание Tinkoff Backend Academy 17 - Эксперимент Kafka

**Описание:**
В этом домашнем задании нужно провести ряд экспериментов с Kafka. Для проведения эксперимента нужно создать паблишер и консюмер, которые будут отправлять и принимать данные из Kafka. Данные для отправки нужно сгенерировать из таблицы `person` и `child`. Таблица `person` содержит информацию о людях, а таблица `child` содержит информацию о связи между родителями и детьми. Для таблицы `person` нужно создать 1_000_000 записей с описанием в поле `about_me` не более 10 символов и 1_000_000 записей с описанием в поле `about_me` более 1000 символов. Для таблицы `child` нужно создать связь у людей из первой таблицы 500_000 по 1 ребенку и у людей из второй таблицы 20_000 по 5 детей. Данные нужно отправлять в формате json родителя с набором детей.

**Используемые технологии:**

- **Язык программирования:** Java 17
- **Инструменты разработки:** IntelliJ IDEA, Maven, Docker, Kafka, docker-compose, Avro
- **Контроль версий:** Git

**Ключевые особенности:**

- **Генерация данных** - Сгенерировать данные для отправки из таблицы `person` и `child`.
- **Связь между таблицами** - Создать связь у людей из таблицы `person` и `child`.
- **Отправка данных** - Отправлять данные в Kafka в формате json (или Avro) родителя с набором детей.

**Детали реализации:**

- **Паблишер и консьюмер** - Создать паблишер и консьюмер для отправки и приема данных из Kafka.

**Инструкции по использованию:**

1. Запустить Kafka и создать топики для эксперимента.
2. Запустить паблишер и консьюмер для отправки и приема данных из Kafka.
3. Провести эксперименты с различными параметрами отправки и чтения данных из Kafka.

**Цели проекта:**

- Изучить принципы работы с Kafka.
- Изучить принципы отправки и чтения данных из Kafka.
- Изучить принципы работы с Avro.

## Part 1. Implementation

Нужно создать в кафке по топику на каждый эксперимент. Паблишер и консьюмер добавить в проект.
Генерируем данные из объекта таблицы peson

```SQL
    create table person (
    id bigint,
    name varchar,
    about_me text,
    bithdate datetime
    )
```

и таблицы

```SQL
    create table child (
    parent_id bigint,
    child_id bigint
    )
```

Заполнить таблицу 1 000 000 записей с описанием в about_me не более 10 символов(А).
Заполнить таблицу 1 000 000 записей с описанием в about_me более 1000 символов(Б).
Создать связь у людей из (А) 500_000 по 1 ребенку.
Создать связь у людей из (Б) 20_000 по 5 детей.
Отправляем данные по json родителя с набором детей.

Заполнить таблицу результатами эксперимента:

| Описание Данных                                                 | RPS Чтения | RPS Отправки |
|-----------------------------------------------------------------|:----------:|:------------:|
| Отправка без гарантии чтения                                    |            |              |
| Отправка с гарантией чтения                                     |            |              |
| Пакетное чтение без гарантии чтения                             |            |              |
| Пакетное чтение с гарантией чтения                              |            |              |
| Пакетное чтение с фильтром в листенере с рарантией чтения       |            |              |
| Пакетное чтение с фильтром внутри консьюмера с гарантией чтения |            |              |
| Отправка данных через авро                                      |            |              |
